{%- with messages = get_flashed_messages(with_categories=true) -%}
    {% if messages %}
        <div class="grid place-items-center mt-4 px-3">
            <div class="w-full max-w-sm">
                {% for category, message in messages %}
                    <div x-data="{ show_message: true }" class="relative">
                        <div x-show="show_message"
                             class="rounded-lg shadow-lg p-4 relative
                             {{ 'bg-green-200 border-green-400 text-green-900' if category == 'success' else '' }}
                             {{ 'bg-red-200 border-red-800 text-red-900' if category == 'error' else '' }}
                             {{ 'bg-blue-200 border-blue-400 text-blue-900' if category == 'info' else '' }}">
                            <div class="flex items-center">
                                {% if category == 'error' %}
                                    <i class="fa-solid fa-exclamation-triangle text-2xl mr-4"></i>
                                {% endif %}
                                {% if category == 'success' %}
                                    <i class="fa-solid fa-check-circle text-2xl mr-4"></i>
                                {% endif %}
                                {% if category == 'info' %}
                                    <i class="fa-solid fa-info-circle text-2xl mr-4"></i>
                                {% endif %}
                                <p class="text-sm mr-4">{{ message }}</p>
                            </div>
                            <button @click="show_message = false"
                                    class="absolute top-0 right-0 m-2 text-sm text-gray-600">
                                <i class="fa-solid fa-times"></i>
                            </button>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}
{%- endwith %}